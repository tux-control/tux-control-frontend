<div class="row">
  <div class="col-sm-12">
    <div class="page-title-box">
      <h4 class="page-title" i18n>Create new role</h4>
    </div>
    <!--end page-title-box-->
  </div>
  <!--end col-->
</div>
<!-- end page title end breadcrumb -->

<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">

        <form [formGroup]="newRoleForm" (ngSubmit)="onSubmit()">
          <div class="form-group row">
            <label class="col-form-label col-lg-4 col-sm-12"><span i18n>Name</span> *</label>
            <div class="col-lg-4 col-md-9 col-sm-12">
              <input class="form-control" pInputText type="text" formControlName="name" [ngClass]="{ 'is-invalid': !rf.name.untouched && rf.name.errors }">
              <div *ngIf="rf.name.errors" class="invalid-feedback">
                <div *ngIf="!rf.name.untouched && rf.name.errors.required" i18n>Name is required.</div>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-lg-4 col-sm-12"><span i18n>Permissions</span> *</label>
            <div class="col-lg-4 col-md-9 col-sm-12 p-fluid">
              <p-listbox [options]="permissions" formControlName="permissions" [metaKeySelection]="false" [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="name" [ngClass]="{ 'is-invalid': !rf.permissions.untouched && rf.permissions.errors }"></p-listbox>
              <div *ngIf="rf.permissions.errors" class="invalid-feedback">
                <div *ngIf="!rf.permissions.untouched && rf.permissions.errors.required" i18n>Permissions are reqired.</div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12 text-center">
              <button pButton pRipple i18n-label label="Create role" type="submit" [disabled]="newRoleForm.invalid" [loading]="loading"></button>
            </div>
          </div>
        </form>
        <!--end::Form-->
      </div>
      <!--end card-body-->
    </div>
    <!--end card-->
  </div>
  <!--end col-->
</div>
<!--end row-->
